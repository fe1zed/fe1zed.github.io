<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Contact — fe1zed</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Contact support — fe1zed" />
    <link rel="stylesheet" href="/assets/css/site.css" />
</head>

<body class="sticky-footer">
<header class="header">
    <div class="container">
        <div class="brand">
            <span class="brand-name">fe1zed</span>
        </div>

        <nav class="nav">
            <a href="/" class="nav-link">Home</a>
            <a href="/pages/support.html" class="nav-link">Support</a>
            <a href="/pages/privacy.html" class="nav-link">Privacy</a>
            <a href="https://assetstore.unity.com/publishers/128954" class="nav-link" target="_blank" rel="noopener">Asset Store</a>
        </nav>
    </div>
</header>

<main class="container contact-page">
    <a class="back-btn" href="/pages/support.html">← Back</a> <!-- Should I change it to js back?  href="javascript:history.back()" -->

    <div class="contact-grid">
        <!-- Left -->
        <div>
            <h1 class="contact-title">Contact Support</h1>

            <p class="hero-subtitle contact-subtitle">
                Send a message and I’ll get back to you as soon as possible.
            </p>

            <p class="contact-muted">
                Prefer email? Write directly:
                <a class="footer-link" href="mailto:contact.fe1zed@gmail.com"><b>contact.fe1zed@gmail.com</b></a>
            </p>
        </div>

        <!-- Right -->
        <div class="contact-panel">
            <div id="formNotice" class="contact-notice" aria-live="polite">
                <div id="formNoticeText" class="contact-notice-title"></div>
                <div id="formNoticeSub" class="contact-notice-sub"></div>
            </div>

            <form id="contactForm"
                  action="https://formspree.io/f/xnjppjak"
                  method="POST"
                  novalidate>

                <label class="contact-field">
                    <div class="contact-label">Name</div>
                    <input class="contact-input" name="name" type="text" required />
                </label>

                <label class="contact-field">
                    <div class="contact-label">Email</div>
                    <input class="contact-input" name="email" type="email" required />
                </label>

                <label class="contact-field">
                    <div class="contact-label">Subject</div>
                    <input class="contact-input" name="subject" type="text" required />
                </label>

                <label class="contact-field is-last">
                    <div class="contact-label">Message</div>
                    <textarea class="contact-textarea" name="message" rows="6" required></textarea>
                </label>

                <!-- honeypot anti-spam -->
                <input type="text" name="_gotcha" class="contact-honeypot" tabindex="-1" autocomplete="off" />

                <div class="contact-actions">
                    <button id="sendBtn" type="submit" class="chip contact-send-btn">
                        Send →
                    </button>
                </div>
            </form>
        </div>
    </div>
</main>

<!-- Footer -->
<div id="site-footer"></div>
<script src="/assets/js/layout.js"></script>

<script>
    (() => {
        const form = document.getElementById('contactForm');
        const btn = document.getElementById('sendBtn');

        const notice = document.getElementById('formNotice');
        const noticeText = document.getElementById('formNoticeText');
        const noticeSub = document.getElementById('formNoticeSub');

        function showNotice(ok, title, sub) {
            notice.style.display = 'block';
            notice.classList.remove('is-ok', 'is-error');
            notice.classList.add(ok ? 'is-ok' : 'is-error');

            noticeText.textContent = title;
            noticeSub.textContent = sub || '';
        }

        function setSending(sending) {
            btn.disabled = sending;
            btn.classList.toggle('is-sending', sending);
            btn.textContent = sending ? 'Sending…' : 'Send →';
        }

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            if (!form.checkValidity()) {
                showNotice(false, 'Please fill all fields.', 'Name, Email, Subject, and Message are required.');
                return;
            }

            setSending(true);
            notice.style.display = 'none';

            try {
                const res = await fetch(form.action, {
                    method: 'POST',
                    headers: { 'Accept': 'application/json' },
                    body: new FormData(form)
                });

                if (res.ok) {
                    form.reset();
                    showNotice(true, 'Message sent!', 'Thanks — I’ll reply to your email within 24-48 hours.');
                } else {
                    showNotice(false, 'Could not send.', 'Try again in a moment or email contact.fe1zed@gmail.com.');
                }
            } catch (err) {
                showNotice(false, 'Network error.', 'Check your connection and try again.');
            } finally {
                setSending(false);
            }
        });
    })();
</script>

</body>
</html>
